{"version":3,"sources":["components/Dialogs/Message/Message.jsx","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/common/FormControls/FormControls.jsx","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/hoc/WithAuthRedirect.jsx","components/Dialogs/Dialogs.module.css"],"names":["Message","props","className","styles","dialog","message","DialogsItem","path","id","active","to","name","AddMessageForm","TextArea","FormControlElement","onSubmit","values","addNewMessage","validate","handleSubmit","pristine","form","submitting","component","validators","maxLength","placeholder","type","disabled","onClick","reset","Dialogs","state","dialogsPage","dialogElements","dialogs","map","messageElement","messages","item","dialogsItems","sendMessage","compose","connect","dispatch","newMessage","sendMessageCreator","WithAuthRedirect","Element","input","meta","hasError","touched","error","formControl","module","exports","required","value","undefined","mustBeNumber","isNaN","minValue","min","composeValidators","reduce","validator","length","mapStateToProps","isAuth","auth","Component","RedirectComponent","this","React"],"mappings":"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","file":"static/js/6.745f2453.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from '../Dialogs.module.css'\r\n\r\nfunction Message(props) {\r\n    return (\r\n        <div className={styles.dialog}>{props.message}</div>\r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport styles from '../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction DialogsItem(props) {\r\n    let path = '/dialogs/' + props.id\r\n    return (\r\n        <div className={styles.dialog + ' ' + styles.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogsItem;","import React from 'react';\r\nimport styles from './Dialogs.module.css'\r\nimport Message from \"./Message/Message\";\r\nimport DialogsItem from \"./DialogsItem/DialogsItem\";\r\nimport {Form, Field} from 'react-final-form';\r\nimport {validators} from \"../../utils/validators/validators\";\r\nimport {FormControlElement} from \"../common/FormControls/FormControls\";\r\n\r\nfunction Dialogs(props) {\r\n    let state = props.dialogsPage;\r\n    const dialogElements = state.dialogs.map(dialog =>\r\n        <DialogsItem\r\n            key={dialog.id}\r\n            id={dialog.id}\r\n            name={dialog.name}\r\n        />\r\n    )\r\n    const messageElement = state.messages.map(item =>\r\n        <Message\r\n            key={item.id}\r\n            id={item.id}\r\n            message={item.message}\r\n        />\r\n    )\r\n    const addNewMessage = (message) => {\r\n        props.sendMessage(message);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.dialogsItems}>\r\n                {dialogElements}\r\n            </div>\r\n            <div className={styles.messages}>\r\n                <div>{messageElement}</div>\r\n                <AddMessageForm addNewMessage={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst AddMessageForm = (props) => {\r\n    const TextArea = FormControlElement('textarea');\r\n\r\n    return (\r\n        <Form onSubmit={values => {\r\n            props.addNewMessage(values.message);\r\n        }}\r\n          validate={values => {\r\n\r\n          }}\r\n        >\r\n            {({handleSubmit, pristine, form, submitting}) => (\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <Field\r\n                            name='message'\r\n                            component={TextArea}\r\n                            validate={validators.maxLength(50)}\r\n                            placeholder='Enter your message'\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <button\r\n                            type='submit'\r\n                            disabled={submitting}\r\n                        > Send\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            disabled={pristine || submitting}\r\n                            onClick={form.reset}\r\n                        > Clear\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {sendMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {WithAuthRedirect} from \"../hoc/WithAuthRedirect\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessage) => {\r\n            dispatch(sendMessageCreator(newMessage))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect\r\n)(Dialogs);\r\n\r\n","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\n\r\nexport const FormControlElement = Element => ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <Element {...input} {...props}/>\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3XuoQ\",\"error\":\"FormControls_error__3PNN-\",\"formSummaryError\":\"FormControls_formSummaryError__3JmAt\"};","export const validators = {\r\n    required: value => (value ? undefined : 'Required'),\r\n    mustBeNumber: value => (isNaN(value) ? 'Must be a number' : undefined),\r\n    minValue: min => value =>\r\n        isNaN(value) || value >= min ? undefined : `Should be greater than ${min}`,\r\n    composeValidators: (...validators) => value =>\r\n        validators.reduce((error, validator) => error || validator(value), undefined),\r\n    maxLength: maxLength => {\r\n        return (value) => {\r\n            if (!value || value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n            render() {\r\n                if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n                return (\r\n                    <Component {...this.props} />\r\n                )\r\n            }\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2_7TK\",\"dialogsItems\":\"Dialogs_dialogsItems__2R3wt\",\"active\":\"Dialogs_active__fU9iq\",\"dialog\":\"Dialogs_dialog__1rYHh\",\"messages\":\"Dialogs_messages__3d7I2\",\"message\":\"Dialogs_message__43Gz5\"};"],"sourceRoot":""}