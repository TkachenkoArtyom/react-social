(this.webpackJsonpsamurai=this.webpackJsonpsamurai||[]).push([[4],{83:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),o=n(87),i=(n(0),n(84)),s=n.n(i),c=n(2),a=function(t){return function(e){var n=e.input,i=e.meta,a=Object(o.a)(e,["input","meta"]),u=i.touched&&i.error;return Object(c.jsxs)("div",{className:s.a.formControl+" "+(u?s.a.error:""),children:[Object(c.jsx)("div",{children:Object(c.jsx)(t,Object(r.a)(Object(r.a)({},n),a))}),Object(c.jsx)("div",{children:u&&Object(c.jsx)("span",{children:i.error})})]})}}},84:function(t,e,n){t.exports={formControl:"FormControls_formControl__3XuoQ",error:"FormControls_error__3PNN-",formSummaryError:"FormControls_formSummaryError__3JmAt"}},85:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={required:function(t){return t?void 0:"Required"},mustBeNumber:function(t){return isNaN(t)?"Must be a number":void 0},minValue:function(t){return function(e){return isNaN(e)||e>=t?void 0:"Should be greater than ".concat(t)}},composeValidators:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(e,n){return e||n(t)}),void 0)}},maxLength:function(t){return function(e){if(!e||e.length>t)return"Max length is ".concat(t," symbols")}}}},86:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(1),o=n(22),i=n(23),s=n(25),c=n(24),a=n(0),u=n.n(a),l=n(19),j=n(5),b=n(2),d=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(s.a)(a,e);var n=Object(c.a)(a);function a(){return Object(o.a)(this,a),n.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(t,Object(r.a)({},this.props)):Object(b.jsx)(j.a,{to:"/login"})}}]),a}(u.a.Component);return Object(l.b)(d)(e)}},88:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(35);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(a){o=!0,i=a}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__22Sai",contact:"ProfileInfo_contact__3fTwF",img:"ProfileInfo_img__2GteD",profileImage:"ProfileInfo_profileImage__3mNnU",fullName:"ProfileInfo_fullName__XtuhM",aboutMe:"ProfileInfo_aboutMe__F1Xp1",status:"ProfileInfo_status__3dVGk"}},92:function(t,e,n){t.exports={item:"MyPosts_item__2Jy64",posts:"MyPosts_posts__10Uxl",postsBlock:"MyPosts_postsBlock__1AZC5"}},93:function(t,e,n){t.exports={item:"Post_item__1LtHM"}},98:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(22),i=n(23),s=n(25),c=n(24),a=n(0),u=n.n(a),l=n(88),j=n(91),b=n.n(j),d=n(36),f=n(2),h=function(t){var e=t.status,n=t.setStatus,r=u.a.useState(!1),o=Object(l.a)(r,2),i=o[0],s=o[1],c=u.a.useState(e),a=Object(l.a)(c,2),j=a[0],d=a[1];u.a.useEffect((function(){d(e)}),[e]);return Object(f.jsx)(f.Fragment,{children:i?Object(f.jsx)("input",{autoFocus:"true",onBlur:function(){s(!1),n(j)},onChange:function(t){d(t.currentTarget.value)},type:"text",value:j}):Object(f.jsx)("div",{onDoubleClick:function(){s(!0)},className:b.a.status,children:j})})},p=n(3),m=n.n(p),O=n(7),x=n(89),v=n(83),g=function(t){var e=t.profile,n=t.leaveEditMode,r=t.saveProfile,o=Object(v.a)("input"),i=Object(v.a)("textarea");return Object(f.jsx)(x.b,{onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e);case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),initialValues:e,children:function(t){var n=t.handleSubmit,r=(t.pristine,t.form,t.submitting);return Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsx)("div",{children:Object(f.jsxs)("label",{htmlFor:"fullName",children:[Object(f.jsx)("b",{children:"Full Name:"}),Object(f.jsx)(x.a,{name:"fullName",component:o,type:"text"})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("label",{htmlFor:"lookingForAJob",children:[Object(f.jsx)("b",{children:"Looking for a job:"}),Object(f.jsx)(x.a,{name:"lookingForAJob",component:o,type:"checkbox"})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("label",{htmlFor:"lookingForAJobDescription",children:[Object(f.jsx)("b",{children:"Looking for a job description:"}),Object(f.jsx)(x.a,{name:"lookingForAJobDescription",component:i,placeholder:"Type something here.."})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("label",{htmlFor:"aboutMe",children:[Object(f.jsx)("b",{children:"About me:"}),Object(f.jsx)(x.a,{name:"aboutMe",component:i,placeholder:"Type something here.."})]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(t){return Object(f.jsxs)("div",{className:b.a.contact,children:[Object(f.jsx)("b",{children:t}),":",Object(f.jsx)(x.a,{name:"contacts."+t,component:o,type:"text",placeholder:"Enter contact.."})]},t)}))]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",disabled:r,children:"Save changes"})})]})}})},y=function(t){var e=t.profile,n=t.isOwner,r=t.goToEditMode;return Object(f.jsxs)("div",{children:[n&&Object(f.jsx)("button",{onClick:r,children:"Edit"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(t){return Object(f.jsx)(_,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},_=function(t){var e=t.contactTitle,n=t.contactValue;return Object(f.jsxs)("div",{className:b.a.contact,children:[Object(f.jsx)("b",{children:e}),":",n]})},k=function(t){var e=t.profile,n=t.status,r=t.setStatus,o=t.isOwner,i=t.savePhoto,s=t.saveProfile,c=u.a.useState(!1),a=Object(l.a)(c,2),j=a[0],p=a[1];if(!e)return Object(f.jsx)(d.a,{});return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(f.jsx)("img",{className:b.a.profileImage,src:e.photos.large||"https://image.freepik.com/free-vector/illustration-of-a-stylish-young-man-avatar-of-a-man-for-profile_15870-706.jpg",alt:"Avatar"}),Object(f.jsx)("div",{className:b.a.fullName,children:e.fullName}),Object(f.jsx)("div",{className:b.a.aboutMe,children:e.aboutMe||"Empty"}),o&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&i(t.target.files[0])}}),j?Object(f.jsx)(g,{profile:e,saveProfile:s,leaveEditMode:function(){return p(!1)}}):Object(f.jsx)(y,{profile:e,isOwner:o,goToEditMode:function(){return p(!0)}}),Object(f.jsx)(h,{status:n,setStatus:r})]})})},P=n(34),N=n(92),S=n.n(N),M=n(93),A=n.n(M);var I=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:A.a.item,children:[Object(f.jsx)("img",{src:"https://st2.depositphotos.com/3079665/6151/v/600/depositphotos_61516793-stock-illustration-panda-standing.jpg",alt:"avatar"}),t.text]}),Object(f.jsx)("div",{children:Object(f.jsx)("span",{children:"like"})})]})},C=n(85),F=u.a.memo((function(t){var e=t.profilePage.posts.map((function(t){return Object(f.jsx)(I,{id:t.id,text:t.text,likesCount:t.likesCount},t.id)}));return Object(f.jsxs)("div",{className:S.a.postsBlock,children:[Object(f.jsx)("h3",{children:" My Posts "}),Object(f.jsx)(w,{addPost:function(e){t.addPost(e)}}),Object(f.jsx)("div",{className:S.a.posts,children:e})]})})),w=function(t){var e=Object(v.a)("textarea");return Object(f.jsx)(x.b,{onSubmit:function(e){t.addPost(e.post)},validate:function(){},children:function(t){var n=t.handleSubmit,r=t.pristine,o=t.form,i=t.submitting;return Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsx)("div",{children:Object(f.jsx)(x.a,{name:"post",component:e,placeholder:"Enter post text..",validate:C.a.maxLength(50)})}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"submit",disabled:i,children:" Add post"}),Object(f.jsx)("button",{type:"button",disabled:r||i,onClick:o.reset,children:" Clear"})]})})]})}})},E=F,J=n(19),T=Object(J.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(P.a)(e))}}}))(E);var B=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(k,Object(r.a)({},t)),Object(f.jsx)(T,{})]})},D=n(5),L=n(14),V=n(86),U=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(B,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),n}(u.a.Component);e.default=Object(L.d)(Object(J.b)((function(t){return{status:t.profilePage.status,profile:t.profilePage.profile,authorizedUserId:t.auth.userId,isAuth:t.auth.userId}}),{setProfile:P.f,getStatus:P.c,setStatus:P.g,savePhoto:P.d,saveProfile:P.e}),D.g,V.a)(U)}}]);
//# sourceMappingURL=4.a64f9563.chunk.js.map